## Java Record

- A record is a built-in Java language feature (Java 16+).
- Designed for `immutable data carrier classes`.
- Java automatically generates:
  - **constructor**
  - **getters**
  - **equals()**
  - **hashCode()**
  - **toString()**

### Record Usage

- Best for `DTOs, request/response objects`, value objects.
- `Enforces immutability`.
- Very clean and minimal syntax.

- `✔ Immutable`
- `✔ Less code`
- `❌ No setters`
- `❌ Cannot extend other classes`

```java
public record User(String name, int age) {
}

new User("Deepak", 30);
user.name();     // getter
user.age();
user.toString();
user.equals();
```

---

## Lombok

- Lombok is a third-party library.
- `Uses annotations to generate boilerplate code at compile time`.
- Works with normal Java classes.
- `Requires IDE plugin + dependency`.
- Lombok Usage
  - Used to reduce boilerplate in:
  - Entities
  - DTOs
  - Builder patterns
  - `Mutable or immutable classes(@Value)`
  - More flexible than records.

| Feature             | Record                   | Lombok                    |
| ------------------- | ------------------------ | ------------------------- |
| Type                | Java language feature    | Third-party library       |
| Java Version        | Java 16+                 | Any                       |
| Mutability          | Immutable only           | Mutable / Immutable       |
| Boilerplate         | Auto-generated by Java   | Generated via annotations |
| External Dependency | ❌ No                    | ✅ Yes                    |
| Builder Support     | ❌ No                    | ✅ Yes                    |
| Inheritance         | ❌ Cannot extend classes | ✅ Can extend             |
| JPA Entity          | ❌ Not suitable          | ✅ Suitable               |

---

## Immutability Using Lombok

- An immutable object:
  - `Cannot be changed after creation`
  - `Has no setters`
  - `Has final fields`
  - `Is thread-safe by design`
  - `Prevents accidental state changes`

### 1. @Value (Best & Cleanest)

- @`Value is Lombok’s immutable variant of @Data`.
- What @Value Does Automatically
  - **Makes class final**
  - **Makes all fields private final**
  - Generates:
    - All-args constructor
    - Getters
    - equals() / hashCode()
    - toString()
    - ❌ No setters

```java
import lombok.Value;

@Value
public class User {
    String name;
    int age;
}
```

### 2. @Getter + final Fields (More Control)

Use this when you want immutability without making the class final.

```java
import lombok.Getter;

@Getter
public class User {
    private final String name;
    private final int age;

    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

### 3. Builder + Immutability (@Builder)

```java
import lombok.Builder;
import lombok.Value;

@Value
@Builder
public class User {
    String name;
    int age;
}

User user = User.builder()
                .name("Deepak")
                .age(30)
                .build();

```
